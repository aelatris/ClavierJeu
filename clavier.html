<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Bootstrap Example</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
      </head>

      <style>
            #jeu{
                margin: 10px;
                position: absolute;
                top: 50%;
                left: 50%;
                -ms-transform: translate(-50%, -50%);
                transform: translate(-50%, -50%);
                background-color: aquamarine;
                border: 2px solid;
                padding: 15%;
                text-align: center;

                
            }
      </style>
<body>

    <div id="jeu">

        <select name="Difficulter" id="Difficulter">
            <option value="Facile">Facile</option>
            <option value="Moyen">Moyen</option>
            <option value="Difficile">Difficile</option>
            <option value="Extreme">Extreme</option>
        </select>

        <select name="Timer" id="timeSelect">
            <option value="..." >Timer: ...</option>
            <option value=40 >Timer: 40s</option>
            <option value=60>Timer: 60s</option>
            <option value=80>Timer: 80s</option>
            <option value=100>Timer: 100s</option>
            <option value=120>Timer: 120s</option>
        </select>

        <h1 id="timer">Timer: </h1>
        <h1 id="score">Score: 0</h1>
        <h1 id="word">Word</h1>
        <input id="input" type="text">
        <button id="btn">Start</button>
    </div>
</body>




<script>

//Declaration de variable
    let timer = document.getElementById("timer");
    let timeSelect = document.getElementById("timeSelect")
    let score = document.getElementById("score");
    let word = document.getElementById("word");
    let input = document.getElementById("input");
    let btn = document.getElementById("btn");
    let difficulter = document.getElementById("Difficulter");

    let point = 0;
//*****************************************************




//Fonction pour les different difficulter du jeu
async function motSimple() {
        try { 
            const response = await fetch('https://random-word.ryanrk.com/api/en/word/random/?maxlength=4');
            const myJson = await response.json(); 
            word.textContent = myJson.toString().toUpperCase(); 
        } catch (error) {
            console.error('Error fetching the word:', error);
        }
}



async function motMoyen() {
        try {
            const response = await fetch('https://random-word.ryanrk.com/api/en/word/random/?minlength=5&maxlength=14');
            const myJson = await response.json(); 
            word.textContent = myJson.toString().toUpperCase(); 
        } catch (error) {
            console.error('Error fetching the word:', error);
        }
}



async function motCompliquer() {
        try {
            const response = await fetch('https://random-word.ryanrk.com/api/en/word/random/?minlength=14&maxlength=20');
            const myJson = await response.json();
            word.textContent = myJson.toString().toUpperCase(); 
        } catch (error) {
            console.error('Error fetching the word:', error);
        }
}


async function motExtrem() {
        try {
            const response = await fetch('https://random-word.ryanrk.com/api/en/word/random/?minlength=20&maxlength=35');
            const myJson = await response.json();
            word.textContent = myJson.toString().toUpperCase();
        } catch (error) {
            console.error('Error fetching the word:', error);
        }
}

function choixDifficulter(){

    if(difficulter.value == "Facile"){
        motSimple();
    }else if(difficulter.value == "Moyen"){
        motMoyen();

    }else if(difficulter.value == "Difficile"){
        motCompliquer();
    }else{
        motExtrem();
    }
}

btn.addEventListener('click', choixDifficulter);

//*****************************************************





//System de pointage

function points(){
    if(input.value.toUpperCase() == word.textContent.toUpperCase()){
        point=point+1;
        score.textContent = point;
        choixDifficulter();
        input.value = "";
        word.style.color = "";

    }else{
        word.style.color = "red";
    }
}



input.addEventListener("keypress", function(event) {
  if (event.key === "Enter") {
    points();
  }
});

//*****************************************************




//System du timer  &&  control de visibiliter
timer.textContent = "Timer: " + timeSelect.value;

timeSelect.addEventListener('change', timeControl);

function timeControl(){
    timer.textContent = "Timer: " + timeSelect.value + " s";
    let temps = timeSelect.value;
    let interval = setInterval(function() {
        temps --;
        timer.textContent = "Timer: " + temps + " s";
        timeSelect.style.visibility = "hidden";
        difficulter.style.visibility = "hidden";

        if(temps == 0){
            clearTimeout(interval);
            word.style.visibility = "hidden";
            input.style.visibility = "hidden";
            btn.style.visibility = "hidden";
            score.textContent = "Votre score est " + point;
        }


    }, 1000);

    
}
//*****************************************************

</script>




</html>